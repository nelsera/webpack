<ol class="no-margin breadcrumb bgWhite">
  <li class="txt-color-blue">Empresa</li>
  <li class="txt-color-blue">Administração</li>
  <li class="active">Adicionar empresa</li>
</ol>

<h2 class="margin-top-40 margin-bottom-25" ng-click="cpn.reload()">{{cpn.title}}</h2>

<div class="contentTabs no-select display-block overflow-hidden">
  <a href="#" class="Tabs" ng-class="{active:cpn.tab===1}"> 
    <span class="label label-primary margin-right-5">1</span>
    Informações da empresa
  </a>
  <a href="#" class="Tabs"  ng-class="{active:cpn.tab===2}">
    <span class="label label-primary margin-right-5">2</span>
    Informações do gestor
  </a>
  <a href="#" class="Tabs" ng-class="{active:cpn.tab===3}">
    <span class="label label-primary margin-right-5">3</span>
    Condições de faturamento e entrega
  </a>
  <a href="#" class="Tabs" ng-class="{active:cpn.tab===4}">
    <span class="label label-primary margin-right-5">4</span>
    Serviço intermediação
  </a>
</div>
<div class="bgWhite boxShadow padding-25 no-margin margin-bottom-25 transition">
  <form novalidate name="Infos" ng-show="cpn.tab === 1">
    <h3 class="no-margin margin-bottom-15">Informações da empresa</h3>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6"> 
        <label class="label-block">
          Razão social*
          <input 
            type="text" 
            ng-model="cpn.Infos.Trade" 
            class="text w100 text-upper" 
            maxlength="50" 
            required>
        </label>
      </div>
      <div class="no-margin col-md-6">
        <label class="label-block">
          Nome fantasia*
          <input type="text" ng-model="cpn.Infos.Name" class="text w100 text-upper" maxlength="100" required>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="label-block">
          CNPJ*
          <input type="text" ng-model="cpn.Infos.Cnpj" class="text w100 text-upper" ng-model="cpn.initializedCpfCnpj" ui-br-cpfcnpj-mask required>
        </label>
      </div>
      <div class="no-margin col-md-6">
        <label class="label-block">
          Inscrição estadual*
          <input id="isento" ng-model="cpn.isFree" ng-click="cpn.isFree ? cpn.Infos.Registration.State='Isento' : cpn.Infos.Registration.State=''" type="checkbox" class="checkbox">
          <label for="isento" class="margin-left-10">Isento</label>
          <input 
          type="text" 
          ng-model="cpn.Infos.Registration.State" 
          class="text w100 text-upper" 
          maxlength="14" 
          ng-readonly="cpn.isFree"
          required>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="label-block">
          Inscrição municipal
          <input type="text" ng-model="cpn.Infos.Registration.City" class="text w100 text-upper" maxlength="15">
        </label>
      </div>
      <div class="no-margin col-md-6">
        <label class="label-block">
          CEP*
          <input type="text" ng-model="cpn.Infos.Address.Zipcode" class="text w100 text-upper" ui-br-cep-mask required ng-blur="cpn.getAddress('Infos')">

          <a href="http://m.correios.com.br/movel/buscaCep.do" target="_blank" class="absolute bottom-10 right-5 label-link">Não sei o cep</a>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="label-block">
          Endereço*
          <input type="text" ng-model="cpn.Infos.Address.Street" class="text w100 text-upper" maxlength="50" required>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="label-block">
          Número*
          <input type="text" class="text w100 text-upper" ng-model="cpn.Infos.Address.Number" ui-number-mask="0" required>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="label-block">
          Complemento
          <input type="text" ng-model="cpn.Infos.Address.Complement" class="text w100 text-upper" maxlength="30">
        </label>
      </div>
    </div>

    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="label-block">
          Bairro*
          <input type="text" ng-model="cpn.Infos.Address.District.Name" class="text w100 text-upper" maxlength="50" required>
        </label>
      </div>
      <div class="no-margin col-md-4">
        <label class="label-block">
          Cidade*
          <input type="text" ng-model="cpn.Infos.Address.City.Name" class="text w100 text-upper" maxlength="50" required>
        </label>
      </div>
      <div class="no-margin col-md-2">
        <label class="select w100">
          <span class="label-block">Estado*</span>
          <select ng-model="cpn.Infos.Address.State.Code" class="col-xs-12 select-default" required>
            <option disabled selected hidden></option>
            <option ng-repeat="state in cpn.states" value="{{state.Sigla}}">{{state.Nome}}</option>
          </select>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="select w100">
          <span class="label-block">Porte</span>
          <select ng-model="cpn.Infos.Size" class="col-xs-12 select-default" required>
            <option disabled selected hidden></option>  
            <option ng-repeat="size in cpn.InfosSizes" value="{{size.Id}}">{{size.Description}}</option>
          </select>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="label-block">
          Telefone comercial*
          <input type="text" class="text w100 text-upper" ng-model="cpn.Infos.Phone.Number" ui-br-phone-number required>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="select w100">
          <span class="label-block">Segmento e/ou setor*</span>
          <select ng-model="cpn.Infos.Segment" class="col-xs-12 select-default" required>
            <option disabled selected hidden></option>  
            <option ng-repeat="segment in cpn.InfosSegments" value="{{segment.Id}}">{{segment.Description}}</option>
          </select>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="select w100">
          <span class="label-block">Categoria*</span>
          <select ng-model="cpn.Infos.Category" class="col-xs-12 select-default" required>
            <option disabled selected hidden></option>
            <option ng-repeat="category in cpn.InfosCategories" value="{{category.Id}}">{{category.Description}}</option>
          </select>
        </label>
      </div>
      <div class="no-margin col-md-6">
        <label class="label-block">
          Grupo empresarial
          <input type="text" class="text w100 text-upper" ng-model="cpn.Infos.Group.Name" maxlength="50" ng-blur="cpn.nextStep(Infos.$valid, 2)">
        </label>
      </div>
    </div>

    <div class="no-margin row margin-top-25">
      <button type="reset" class="btn btn-default btn-lg pull-left">Cancelar</button>
      <button type="button" class="btn btn-success btn-lg margin-left-10 pull-right" ng-disabled="Infos.$invalid" ng-click="cpn.tab=2">Avançar</button>
    </div>      
  </form>

  <form novalidate name="Manager" ng-show="cpn.tab === 2">
    <h3 class="no-margin margin-bottom-15">Informações do gestor</h3>

    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="label-block">
          Nome*
          <input type="text" ng-model="cpn.Manager.Name" class="text w100 text-upper" maxlength="50" required>
        </label>
      </div>
      <div class="no-margin col-md-6">
        <label class="label-block">
          Área em que trabalha*
          <input type="text" ng-model="cpn.Manager.Department" class="text w100 text-upper" maxlength="30" required>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="label-block">
          Cargo*
          <input type="text" ng-model="cpn.Manager.JobTitle" class="text w100 text-upper" maxlength="30" required>
        </label>
      </div>
      <div class="no-margin col-md-6">
        <label class="label-block">
          E-mail*
          <input type="email" ng-model="cpn.Manager.Email" class="text w100 text-upper" maxlength="250" required>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-6">
        <label class="label-block">
          Telefone comercial*
          <input type="text" ng-model="cpn.Manager.CommercialPhone.Number" class="text w100 text-upper" maxlength="14" ui-br-phone-number required>
        </label>
      </div>
      <div class="no-margin col-md-6">
        <label class="label-block">
          Celular
          <input type="text" ng-model="cpn.Manager.PrivatePhone.Number" class="text w100 text-upper" maxlength="15" ui-br-phone-number ng-blur="cpn.nextStep(Manager.$valid, 3)">
        </label>
      </div>
    </div>
    
    <div class="no-margin row margin-top-25">
      <button type="button" class="btn btn-default btn-lg pull-left" ng-click="cpn.tab=1">Voltar</button>
      <button type="button" class="btn btn-success btn-lg margin-left-10 pull-right" ng-disabled="Manager.$invalid" ng-click="cpn.tab=3">Avançar</button>
    </div>
  </form>

  <form novalidate name="Billing" ng-show="cpn.tab === 3">
    <h3 class="no-margin margin-bottom-15">Informações do faturamento</h3>
    <div class="no-margin row margin-bottom-15">
      <label class="check-person">
        <input type="checkbox" class="ios-switch tinyswitch" ng-model="cpn.switchAddress" ng-click="cpn.getInfos(cpn.Infos.Address)">
        <div class="display-inline-block margin-right-5"><div></div></div>
        <span class="relative">Usar o mesmo endereço da empresa para faturamento</span>
      </label>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-3">
        <label class="label-block">
          CEP*
          <input type="text" class="text w100 text-upper" ng-model="cpn.Billing.Address.Zipcode" ui-br-cep-mask required>
          <a href="http://m.correios.com.br/movel/buscaCep.do" class="absolute bottom-10 right-10 label-link" target="_blank">Não sei o cep</a>
        </label>
      </div>
      <div class="no-margin col-md-7">
        <label class="label-block">
          Endereço*
          <input type="text" ng-model="cpn.Billing.Address.Street" class="text w100 text-upper" maxlength="100" required>
        </label>
      </div>
      <div class="no-margin col-md-2">
        <label class="label-block">
          Número*
          <input type="text" class="text w100 text-upper" ng-model="cpn.Billing.Address.Number" ui-number-mask="0" required>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-25">
      <div class="no-margin col-md-3">
        <label class="label-block">
          Complemento
          <input type="text" ng-model="cpn.Billing.Address.Complement" class="text w100 text-upper" maxlength="30">
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="label-block">
          Bairro*
          <input type="text" ng-model="cpn.Billing.Address.District.Name" class="text w100 text-upper" maxlength="50" required>
        </label>
      </div>
      <div class="no-margin col-md-4">
        <label class="label-block">
          Cidade*
          <input type="text" ng-model="cpn.Billing.Address.City.Name" class="text w100 text-upper" maxlength="50" required>
        </label>
      </div>
      <div class="no-margin col-md-2">
        <label class="select w100">
          <span class="label-block">Estado*</span>
          <select ng-model="cpn.Billing.Address.State.Code" class="col-xs-12 select-default" required>
            <option disabled selected hidden></option>
            <option ng-repeat="state in cpn.states" value="{{state.Sigla}}">{{state.Nome}}</option>
          </select>
        </label>
      </div>
    </div>
    <h3 class="no-margin margin-bottom-15">Responsáveis</h3>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-4">
        <label class="label-block">
          Responsável pelo faturamento*
          <input type="text" ng-model="cpn.Billing.ResponsibleOne.Name" required class="text w100 text-upper" maxlength="250">
        </label>
      </div>
      <div class="no-margin col-md-4">
        <label class="label-block">
          E-mail do responsável pelo faturamento*
          <input type="email" ng-model="cpn.Billing.ResponsibleOne.Email" required class="text w100 text-upper" maxlength="250">
        </label>
      </div>
      <div class="no-margin col-md-4">
        <label class="label-block">
          Telefone do responsável*
          <input type="text" ng-model="cpn.Billing.ResponsibleOne.Phone.Number" class="text w100 text-upper" ui-br-phone-number required>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-25">
      <div class="no-margin col-md-4">
        <label class="label-block">
          2º Responsável pelo faturamento
          <input type="text" ng-model="cpn.Billing.ResponsibleTwo.Name" class="text w100 text-upper" maxlength="250">
        </label>
      </div>
      <div class="no-margin col-md-4">
        <label class="label-block">
          E-mail do 2º responsável pelo faturamento
          <input type="email" ng-model="cpn.Billing.ResponsibleTwo.Email" class="text w100 text-upper" maxlength="250">
        </label>
      </div>
      <div class="no-margin col-md-4">
        <label class="label-block">
          Telefone do 2º responsável
          <input type="text" ng-model="cpn.Billing.ResponsibleTwo.Phone.Number" class="text w100 text-upper" ui-br-phone-number ng-blur="cpn.nextStep(Billing.$valid, 4)">
        </label>
      </div>
    </div>
    <div class="no-margin row margin-top-25">
      <button type="button" class="btn btn-default btn-lg pull-left" ng-click="cpn.tab=2">Voltar</button>
      <button type="button" class="btn btn-success btn-lg margin-left-10 pull-right" ng-disabled="Billing.$invalid" ng-click="cpn.tab=4">Avançar</button>
    </div>
  </form>

  <form novalidate name="TaxiProduct" ng-show="cpn.tab === 4">
    <h3 class="no-margin margin-bottom-15">Produto de interesse</h3>
    <div class="no-margin row margin-bottom-25">
      <div class="no-margin col-md-4">
        <label class="label-block">
          Nome
          <input type="text" class="text w100 text-upper" value="Wappa Táxi" required readonly>
        </label>
      </div>
      <div class="no-margin col-md-4">
        <label class="label-block">
          Estimativa de gastos mensal (R$)
          <input type="text" class="text w100 text-upper" ng-model="cpn.TaxiProduct.Credit.Total" ui-money-mask="0" maxlength="17" required>
        </label>
      </div>
      <div class="no-margin col-md-4">
        <label class="label-block">
          Limite de crédito (R$)
          <input type="text" class="text w100 text-upper" ng-model="cpn.TaxiProduct.Credit.Limit" ui-money-mask="0" maxlength="17" required>
        </label>
      </div>
    </div>

    <h3 class="no-margin margin-bottom-15">Taxas, prazos sugeridos e total mensal</h3>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-3">
        <label class="label-block">
          Tipo de contrato
          <input type="text" class="text w100 text-upper" value="Reembolso" readonly required>
          </select>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="select w100">
          <span class="label-block">Prazo</span>
          <select 
            ng-model="cpn.TaxiProduct.DeadlineInDays" 
            class="col-xs-12 select-default"
            ng-options="option.value as option.name for option in cpn.days"
            required>
            <option disabled selected hidden></option>
          </select>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="select w100">
          <span class="label-block">Dia de redundância</span>
          <select 
            ng-model="cpn.TaxiProduct.RedundancyDay"
            class="col-xs-12 select-default"
            ng-options="option.value as option.name for option in cpn.daysMonth"
            ng-init="cpn.TaxiProduct.RedundancyDay=1"
            required>
          </select>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="select w100">
          <span class="label-block">Tipo de taxa</span>
          <select
            ng-model="cpn.TaxiProduct.Tax.Type"
            class="col-xs-12 select-default"
            ng-options="option.Id as option.Description for option in cpn.TaxiTaxTypes"
            ng-init="cpn.TaxiProduct.Tax.Type=1"
            required>
          </select>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-bottom-15">
      <div class="no-margin col-md-3">
        <label class="label-block">
          Taxa
          <input type="text" class="text w100 text-upper" ng-model="cpn.TaxiProduct.Tax.Value" ui-percentage-mask="2" maxlength="8" required>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="label-block">
          <input type="radio" ng-model="cpn.selectRange" ng-click="cpn.TaxiProduct.Period.Start = undefined; cpn.TaxiProduct.Period.End = undefined" value="period" id="optionsRadios1" class="radio">
          <label for="optionsRadios1">Início período</label>
          <div class="no-margin row input" ng-class="{disabled: cpn.selectRange !== 'period'}">
            <div class="no-margin col-md-5 no-padding">
              <input type="text" class="text w100 text-upper" ng-model="cpn.TaxiProduct.Period.Start" ui-number-mask="0" maxlength="2" ng-disabled="cpn.selectRange !== 'period'">
            </div>
            <div class="no-margin col-md-2 no-padding text-center">
              <div class="margin-top-15">e</div>
            </div>
            <div class="no-margin col-md-5 no-padding">
              <input type="text" class="text w100 text-upper" ng-model="cpn.TaxiProduct.Period.End" ui-number-mask="0" maxlength="2" ng-disabled="cpn.selectRange !== 'period'">
            </div>
          </div>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <label class="select w100" ng-class="{disabled: cpn.selectRange !== 'days'}">
          <input type="radio" ng-model="cpn.selectRange" ng-click="cpn.TaxiProduct.CloseInDays = undefined" value="days" id="optionsRadios2" class="radio">
          <label for="optionsRadios2">Fechar em (dias)</label>
          <select 
            ng-model="cpn.TaxiProduct.CloseInDays" 
            class="col-xs-12 select-default"
            ng-options="option.value as option.name for option in cpn.days" 
            ng-disabled="cpn.selectRange !== 'days'">
            <option disabled selected hidden></option>
          </select>
        </label>
      </div>
      <div class="no-margin col-md-3">
        <input id="enviarBoleto" ng-model="cpn.PaymentSlip.Send" type="checkbox" class="checkbox" ng-init="cpn.PaymentSlip.Send=true">
        <label for="enviarBoleto" class="margin-top-25">Enviar boleto</label>
      </div>
    </div>
    <div class="no-margin row">
      <div class="no-margin col-md-6">
        <label class="select w100">
          <span class="label-block">Responsável pós-venda</span>
          <select
            ng-model="cpn.TaxiProduct.PostSaleResponsible"
            class="col-xs-12 select-default" 
            required>
            <option disabled selected hidden></option>
            <option ng-repeat="postSaleResponsible in cpn.PostSaleResponsibles" value="{{postSaleResponsible.Id}}">{{postSaleResponsible.Description}}</option>
          </select>
        </label>
      </div>
      <div class="no-margin col-md-6">
        <label class="select w100">
          <span class="label-block">Responsável comercial</span>
          <select
            ng-model="cpn.TaxiProduct.CommercialResponsible"
            class="col-xs-12 select-default" 
            required>
            <option disabled selected hidden></option>
            <option ng-repeat="commercialSaleResponsible in cpn.CommercialSaleResponsibles" value="{{commercialSaleResponsible.Id}}">{{commercialSaleResponsible.Description}}</option>
          </select>
        </label>
      </div>
    </div>
    <div class="no-margin row margin-top-50">
      <button type="button" class="btn btn-default btn-lg pull-left" ng-click="cpn.tab=3">Voltar</button>
      <button type="submit" ng-click="cpn.signIn(cpn.Infos, cpn.Manager, cpn.Billing, cpn.PaymentSlip, cpn.TaxiProduct)" class="btn btn-primary btn-lg margin-left-10 pull-right" ng-disabled="TaxiProduct.$invalid">Concluir o cadastro</button>
    </div>
  </form>
</div>